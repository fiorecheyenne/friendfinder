<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta id="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Find your BFF</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.css"
    />

    
  </head>
  <body>
    <section class="hero is-dark is-bold">
      <div class="hero-body">
<div class="card">
  <div class="card-content">
    <p class="title">
<div class="has-text-black-ter">
     1 is strongly disagree. 5 is strongly agree. <br>
    Answer the questions honestly.<br>
    </p>
<br>
<input class="input" type="text" id="name" placeholder="Whats your name?">
<input class="input" type="text" id="photo" placeholder="Photo URL">
    <div class="control overflow-auto">
      You are a free spirit<br>
      <div class="field">
        <div class="control">
          <div class="select is-info">
            <select id="question1">
              <option value='1'>1</option>
              <option value='2'>2</option>
              <option value='3'>3</option>
              <option value='4'>4</option>
              <option value='5'>5</option>

            </select>
          </div>
        </div>
      </div>
      <Br>




<div class="control overflow-auto">
You love heavy metal<br>
  <div class="field">
    <div class="control">
      <div class="select is-info">
        <select id="question2">
      <option value='1'>1</option>
      <option value='2'>2</option>
      <option value='3'>3</option>
      <option value='4'>4</option>
      <option value='5'>5</option>

        </select>
      </div>
    </div>
  </div>
          
<br>




   
      <div class="control overflow-auto">
        You do not drink alcohol<br>
        <div class="field">
          <div class="control">
            <div class="select is-info">
              <select id="question3">
                <option value='1'>1</option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5</option>
      
              </select>
            </div>
          </div>
        </div>

<br>


  
          
    <div class="control overflow-auto">
        You love yourself<br>
      <div class="field">
        <div class="control">
          <div class="select is-info">
            <select id="question4">
              <option value='1'>1</option>
              <option value='2'>2</option>
              <option value='3'>3</option>
              <option value='4'>4</option>
              <option value='5'>5</option>
    
            </select>
          </div>
        </div>
      </div>



    
           
            <div class="control overflow-auto">
              You are confident <br>
              <div class="field">
                <div class="control">
                  <div class="select is-info">
                    <select id="question5">
                      <option value='1'>1</option>
                      <option value='2'>2</option>
                      <option value='3'>3</option>
                      <option value='4'>4</option>
                      <option value='5'>5</option>
            
                    </select>
                  </div>
                </div>
              </div>
              <br>



          
      
        <div class="control overflow-auto">
              You are independent <br>
          <div class="field">
            <div class="control">
              <div class="select is-info">
                <select id="question6">
                  <option value='1'>1</option>
                  <option value='2'>2</option>
                  <option value='3'>3</option>
                  <option value='4'>4</option>
                  <option value='5'>5</option>
        
                </select>
              </div>
            </div>
          </div>
          <br>

          
            
            <div class="control overflow-auto">
              You go out of your way to help others <br>
              <div class="field">
                <div class="control">
                  <div class="select is-info">
                    <select id="question7">
                      <option value='1'>1</option>
                      <option value='2'>2</option>
                      <option value='3'>3</option>
                      <option value='4'>4</option>
                      <option value='5'>5</option>
            
                    </select>
                  </div>
                </div>
              </div>
              <br>


           
             
                <div class="control overflow-auto">
                  You spend more time in your daydreams than reality <br>
                  <div class="field">
                    <div class="control">
                      <div class="select is-info">
                        <select id="question8">
                          <option value='1'>1</option>
                          <option value='2'>2</option>
                          <option value='3'>3</option>
                          <option value='4'>4</option>
                          <option value='5'>5</option>
                
                        </select>
                      </div>
                    </div>
                  </div>
                  <br>



          <div class="control overflow-auto">
            You dont drop that thun thun thun<br>
            <div class="field">
              <div class="control">
                <div class="select is-info">
                  <select id="question9">
                    <option value='1'>1</option>
                    <option value='2'>2</option>
                    <option value='3'>3</option>
                    <option value='4'>4</option>
                    <option value='5'>5</option>
          
                  </select>
                </div>
              </div>
            </div>
            <br>


       
        <div class="control overflow-auto">
          You smoke cigarettes <br>
          <div class="field">
            <div class="control">
              <div class="select is-info">
                <select id="question10">
                  <option value='1'>1</option>
                  <option value='2'>2</option>
                  <option value='3'>3</option>
                  <option value='4'>4</option>
                  <option value='5'>5</option>
        
                </select>
              </div>
            </div>
          </div>
          <br>

          <a class="button is-rounded" button type ="submit" id="submit">Submit</a>
  </div>

</div>


          </h2>
        </div>
      </div>
    </section>

<div class="modal" id="bestFriendModal">
  <div class="modal-background"></div>
  <div class="modal-card">
    <header class="modal-card-head">
      <p class="modal-card-title">Your best friend: </p>
      <button class="delete" aria-label="close"></button>
    </header>
    <section class="modal-card-body">
  <h2 id="bestFriend"></h2>
    <img class="is-rounded" id="bestFriendPhoto" src="https://bulma.io/images/placeholders/128x128.png" />
 
    </section>
    <footer class="modal-card-foot">
      
    
    </footer>
  </div>
</div>
</body>

</html>
<script src="https://code.jquery.com/jquery-3.1.1.min.js"
  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script type="text/javascript">
    
  $("#submit").on("click", function(event) {
  event.preventDefault();
  // Form validation
  var valid = true;
  if($("#name").val() === "" || $("#photo").val() === "") {
  valid = false;
  } else if($("#question1").val() === "empty" || $("#question2").val() === "empty" || $("#question3").val() === "empty" ||
  $("#question4").val() === "empty" || $("#question5").val() === "empty" || $("#question6").val() === "empty" ||
  $("#question7").val() === "empty" || $("#question8").val() === "empty" || $("#question9").val() === "empty" ||
  $("#question10").val() === "empty") {
  valid = false;
  }
  if(valid === true) {
  var newUser = {
  name: $("#name").val().trim(),
  photo: $("#photo").val(),
  scores: [
  $("#question1").val(),
  $("#question2").val(),
  $("#question3").val(),
  $("#question4").val(),
  $("#question5").val(),
  $("#question6").val(),
  $("#question7").val(),
  $("#question8").val(),
  $("#question9").val(),
  $("#question10").val()
  ]
  };


  $.post('/api/friends', newUser)
      .done(function (data) {

        $('#bestFriend').html(data.name);
        $("#BestFriendPhoto").attr("src", data.photo);
        $('#bestFriendModal').addClass('is-active');
      });}
       else {
          // If a required field is missing, show alert
          alert("Survey is incomplete!");
        }
		});

  $(".delete").on("click", function() {
    $('#bestFriendModal').removeClass('is-active');
  });
</script>
