<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta id="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Find your BFF</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.css"
    />

    
  </head>
  <body>

    <div class="navbar-end">
      <div class="navbar-item">
        <div class="field is-grouped">
          <p class="control">
            <a class="button is-outlined" href="/home">Home</a>
          </p>
          <p class="control">
            <a class="button is-primary" href="/survey">Survey</a>
          </p>
        </div>
      </div>
    </div>
    </div>
    </nav>

<section class="hero is-primary is-fullheight is-bold">
      <div class="hero-body" overflow="hidden">

 
    <div class="tile is-ancestor">
     <div class="content is-large">1 is strongly disagree. 5 is strongly agree. <br>
    Answer the questions honestly.<br></div>
    </p></div>
<br>

<div class="tile is-parent">
  <article class="tile is-child box">
<input class="input" type="text" id="name" placeholder="Whats your name?">
<input class="input" type="text" id="photo" placeholder="Photo URL">
  </article></div></div>


  <div class="tile is-ancestor">
      <div class="tile is-parent">
    <article class="tile is-child box">
    <div class="control overflow-auto">
      You are a free spirit<br>
      <div class="field">
        <div class="control">
   <div class="select is-primary is-medium">
            <select id="question1">
              <option value='1'>1</option>
              <option value='2'>2</option>
              <option value='3'>3</option>
              <option value='4'>4</option>
              <option value='5'>5</option>

            </select>
          </div>
        </div>
      </div>
</div>
</article>
</div>



<div class="tile is-parent">
  <article class="tile is-child box">
<div class="control overflow-auto">
  <content>
You love heavy metal<br>
  <div class="field">
    <div class="control">
      <div class="select is-primary is-medium">
        <select id="question2">
      <option value='1'>1</option>
      <option value='2'>2</option>
      <option value='3'>3</option>
      <option value='4'>4</option>
      <option value='5'>5</option>

        </select>
        </content>
      </div>
    </div>
    </div>
  </div>
</article>
</div>


<div class="tile is-parent">
  <article class="tile is-child box">
      <div class="control overflow-auto">
        <content>
        You do not drink alcohol<br>
        <div class="field">
          <div class="control">
     <div class="select is-primary is-medium">
              <select id="question3">
                <option value='1'>1</option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5</option>
      
              </select>
              </content>
            </div>
          </div>
        </div></div>
</div>
</article>


<div class="tile is-parent">
  <article class="tile is-child box">
    <div class="control overflow-auto">
      <content> You love yourself<br>
      <div class="field">
        <div class="control">
   <div class="select is-primary is-medium">
            <select id="question4">
              <option value='1'>1</option>
              <option value='2'>2</option>
              <option value='3'>3</option>
              <option value='4'>4</option>
              <option value='5'>5</option>
    
            </select>
            </content>
          </div>
        </div>
      </div>
      </div></article>
    </div>



          <div class="tile is-parent">
            <article class="tile is-child box">
            <div class="control overflow-auto">
              <content>You are confident <br>
              <div class="field">
                <div class="control">
           <div class="select is-primary is-medium">
                    <select id="question5">
                      <option value='1'>1</option>
                      <option value='2'>2</option>
                      <option value='3'>3</option>
                      <option value='4'>4</option>
                      <option value='5'>5</option>
            
                    </select>
                    </content>
                  </div>
                </div>
              </div>
              </div>
            </article>
          </div>



<div class="tile is-parent">
    <article class="tile is-child box">
        <div class="control overflow-auto">
             <content>You are independent <br>
          <div class="field">
            <div class="control">
       <div class="select is-primary is-medium">
                <select id="question6">
                  <option value='1'>1</option>
                  <option value='2'>2</option>
                  <option value='3'>3</option>
                  <option value='4'>4</option>
                  <option value='5'>5</option>
        
                </select>
                </content>
              </div>
            </div>
          </div>
  </div>
  </article></div>

          
          <div class="tile is-parent">
            <article class="tile is-child box">
            <div class="control overflow-auto">
             <content> You go out of your way to help others <br>
              <div class="field">
                <div class="control">
           <div class="select is-primary is-medium">
                    <select id="question7">
                      <option value='1'>1</option>
                      <option value='2'>2</option>
                      <option value='3'>3</option>
                      <option value='4'>4</option>
                      <option value='5'>5</option>
                   
                    </select>
                    </content>
                  </div>
                </div>
              </div>
         </div>
</article>
</div>

           
              <div class="tile is-parent">
                <article class="tile is-child box">
                <div class="control overflow-auto">
                  <content>
                  You spend more time in your daydreams than reality <br>
                  <div class="field">
                    <div class="control">
               <div class="select is-primary is-medium">
                        <select id="question8">
                          <option value='1'>1</option>
                          <option value='2'>2</option>
                          <option value='3'>3</option>
                          <option value='4'>4</option>
                          <option value='5'>5</option>
                
                        </select>
                        </content>
                      </div>
                    </div>
                  </div>
         </div>
        </article>
        </div>


<div class="tile is-parent">
  <article class="tile is-child box">
          <div class="control overflow-auto">
            <content>
            You dont drop that thun thun thun<br>
            <div class="field">
              <div class="control">
         <div class="select is-primary is-medium">
                  <select id="question9">
                    <option value='1'>1</option>
                    <option value='2'>2</option>
                    <option value='3'>3</option>
                    <option value='4'>4</option>
                    <option value='5'>5</option>
          
                  </select>
                  </content>
                </div>
              </div>
            </div>
           </div>
</article></div>

      <div class="tile is-parent">
        <article class="tile is-child box">
        <div class="control overflow-auto">
          <content>
          You smoke cigarettes <br>
          <div class="field">
            <div class="control">
       <div class="select is-primary is-medium">
                <select id="question10">
                  <option value='1'>1</option>
                  <option value='2'>2</option>
                  <option value='3'>3</option>
                  <option value='4'>4</option>
                  <option value='5'>5</option>
        
                </select>
                </content>
              </div>
            </div>
          </div>
         </div>
         </article></div></div>
<div class="tile is-vertical">
          <a class="button is-rounded" button type ="submit" id="submit">Submit</a>
  </div></div>
</div>
</div></div>


          </h2>
        </div>
      </div>
    </section>

<div class="modal" id="bestFriendModal">
  <div class="modal-background"></div>
  <div class="modal-card">
    <header class="modal-card-head">
      <p class="modal-card-title">Your best friend: </p>
      <button class="delete" aria-label="close"></button>
    </header>
    <section class="modal-card-body">
  <h2 id="bestFriend"></h2>
    <img class="is-rounded" id="BestFriendPhoto" src="" />
 
    </section>
    <footer class="modal-card-foot">
      
    
    </footer>
  </div>
</div>
</body>

</html>
<script src="https://code.jquery.com/jquery-3.1.1.min.js"
  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script type="text/javascript">
    
  $("#submit").on("click", function(event) {
  event.preventDefault();
  // Form validation
  var valid = true;
  if($("#name").val() === "" || $("#photo").val() === "") {
  valid = false;
  } else if($("#question1").val() === "empty" || $("#question2").val() === "empty" || $("#question3").val() === "empty" ||
  $("#question4").val() === "empty" || $("#question5").val() === "empty" || $("#question6").val() === "empty" ||
  $("#question7").val() === "empty" || $("#question8").val() === "empty" || $("#question9").val() === "empty" ||
  $("#question10").val() === "empty") {
  valid = false;
  }
  if(valid === true) {
  var newUser = {
  name: $("#name").val().trim(),
  photo: $("#photo").val().trim(),
  scores: [
  $("#question1").val(),
  $("#question2").val(),
  $("#question3").val(),
  $("#question4").val(),
  $("#question5").val(),
  $("#question6").val(),
  $("#question7").val(),
  $("#question8").val(),
  $("#question9").val(),
  $("#question10").val()
  ]
  };


  $.post('/api/friends', newUser)
      .done(function (data) {

        $('#bestFriend').html(data.name);
        $("#BestFriendPhoto").attr("src", data.photo);
        console.log(data.photo)
        $('#bestFriendModal').addClass('is-active');
      });}
       else {
          // If a required field is missing, show alert
          alert("Survey is incomplete!");
        }
		});

  $(".delete").on("click", function() {
    $('#bestFriendModal').removeClass('is-active');
  });
</script>
